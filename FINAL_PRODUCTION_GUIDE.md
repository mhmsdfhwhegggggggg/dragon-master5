# ๐ ุฏููู ุงูุฅูุชุงุฌ ุงูููุงุฆู (Final Production Guide)

ูุฐุง ุงูุฏููู ููุฎุต ุงูุฎุทูุงุช ุงููุงุฒูุฉ ูุชุดุบูู ุชุทุจูู **Dragon Telegram Pro** ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ุงูุญููููุฉุ ูุน ุงูุฃุฎุฐ ุจุงูุงุนุชุจุงุฑ ุงูุฅุตูุงุญุงุช ุงูุชู ุชูุช (ูุซู ุงุณุชุฎุฏุงู `npm` ุจุฏูุงู ูู `pnpm` ูุญูุงูุฉ ุงููููุงุช).

---

## ๐ ุงููุชุทูุจุงุช

ุชุฃูุฏ ูู ุชุซุจูุช ุงูุจุฑุงูุฌ ุงูุชุงููุฉ ุนูู ุงูุฎุงุฏู:
- **Node.js** (ุงูุฅุตุฏุงุฑ 18 ุฃู 20+).
- **PostgreSQL** (ูุงุนุฏุฉ ุงูุจูุงูุงุช).
- **Redis** (ูุทููุจ ูุฅุฏุงุฑุฉ ุงูููุงู ุงูุฎูููุฉ).

---

## ๐๏ธ ุฎุทูุฉ 1: ุงูุฅุนุฏุงุฏ ูุงูุชุซุจูุช

ููุฏ ูููุง ุจุงููุนู ุจุชููุฆุฉ ุงููุดุฑูุน ูุงุณุชุฎุฏุงู `npm` ูุฅุตูุงุญ ูุดุงูู ุงูุฃูุงู.

1. **ุชุซุจูุช ุงูุชุจุนูุงุช**:
   ```bash
   npm install
   ```

2. **ุจูุงุก ุงููุดุฑูุน**:
   ููุญุตูู ุนูู ูุณุฎุฉ ูุญููุฉ ููุดูุฑุฉ (Recommended):
   ```bash
   npm run build:protected
   ```
   *ุณูููู ูุฐุง ุจุฅูุดุงุก ูุฌูุฏ `dist-obfuscated`.*

   ุฃู ูููุณุฎุฉ ุงูุนุงุฏูุฉ (Fast):
   ```bash
   npm run build && npm run build:worker
   ```
   *ุณูููู ูุฐุง ุจุฅูุดุงุก ูุฌูุฏ `dist`.*

---

## โ๏ธ ุฎุทูุฉ 2: ุชููุฆุฉ ุงูุจูุฆุฉ (.env)

โ๏ธ **ูุงู ุฌุฏุงู:** ููู `.env` ูู ุงูููุงู ุงูุฐู ุชุถุน ููู ุฃุณุฑุงุฑู. ูุง ุชุดุงุฑูู ุฃุจุฏุงู.

1. ุงูุชุญ ููู `.env` ููู ุจุชุนุฏูู ุงูููู ุงูุชุงููุฉ ูุชูุงุณุจ ุจูุฆุฉ ุงูุฅูุชุงุฌ:

   ```env
   NODE_ENV=production
   PORT=3000
   
   # ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุชุฃูุฏ ูู ุตุญุฉ ุงูุฑุงุจุท)
   DATABASE_URL=postgresql://USER:PASSWORD@localhost:5432/DB_NAME

   # Telegram API (ูู my.telegram.org)
   TELEGRAM_API_ID=your_api_id
   TELEGRAM_API_HASH=your_api_hash

   # Redis
   REDIS_URL=redis://localhost:6379

   # ุงูุฃูุงู (ูุฌุจ ุชุบููุฑูุง!)
   JWT_SECRET=ุถุน_ูุตุงู_ุทูููุงู_ูุนุดูุงุฆูุงู_ููุง_ุนูู_ุงูุฃูู_32_ุญุฑูุงู
   ENCRYPTION_KEY=ุถุน_ูุตุงู_ุนุดูุงุฆูุงู_ุจุงูุถุจุท_32_ุญุฑูุงู_ููุง
   ```

2. **ุงูุชุญูู ูู ุงูุงุชุตุงู**:
   ุชุฃูุฏ ูู ุฃู PostgreSQL ู Redis ูุนููุงู.

---

## ๐ ุฎุทูุฉ 3: ุงูุชุดุบูู

### ุจุงุณุชุฎุฏุงู PM2 (ููุตู ุจู ููุฅูุชุงุฌ)

ููุถู ุงุณุชุฎุฏุงู `pm2` ูุฅุฏุงุฑุฉ ุงูุชุทุจูู ูู ุงูุฎูููุฉ:

```bash
npm install -g pm2
```

ุซู ุงุจุฏุฃ ุงูุชุทุจูู (ูููุณุฎุฉ ุงููุญููุฉ):
```bash
pm2 start dist-obfuscated/index.js --name "dragon-pro"
pm2 start dist/worker.js --name "dragon-worker"
```

ุฃู ูููุณุฎุฉ ุงูุนุงุฏูุฉ:
```bash
pm2 start dist/_core/index.js --name "dragon-pro"
pm2 start dist/worker.js --name "dragon-worker"
```

### ููุญูุธ ูุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู:
```bash
pm2 save
pm2 startup
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

1. **ุฎุทุฃ `MODULE_NOT_FOUND`**:
   ุชุฃูุฏ ูู ุฃูู ููุช ุจุนูููุฉ ุงูุจูุงุก (`npm run build`).

2. **ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช**:
   ุชุญูู ูู `DATABASE_URL` ููู ุฃู ุฎุฏูุฉ Postgres ุชุนูู.

3. **ูุดุงูู ูู ุงูุชุซุจูุช**:
   ุฅุฐุง ูุงุฌูุช ูุดุงููุ ุฌุฑุจ ุญุฐู ูุฌูุฏ `node_modules` ูุฅุนุงุฏุฉ ุงูุชุซุจูุช:
   ```bash
   rm -rf node_modules
   npm install
   ```

---
**ุชู ุงูุชุญุฏูุซ ุจูุงุณุทุฉ:** Antigravity Agent
**ุงูุชุงุฑูุฎ:** 2026-02-13
